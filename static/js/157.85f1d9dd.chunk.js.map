{"version":3,"file":"static/js/157.85f1d9dd.chunk.js","mappings":"8PAEMA,EAAW,8BAEXC,EAAU,mCAEDC,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAqCC,GAArC,uFAC2BC,EAAAA,EAAAA,IAAA,UAAaJ,EAAb,kCAA+CC,EAA/C,iCAA+EE,EAA/E,gCAD3B,cACUE,EADV,yBAEWA,EAASC,MAFpB,kEAKA,MAPA,SAEeJ,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,ECLf,EAAyB,0B,SCiCvB,EA/BgB,SAAC,GAAoB,IAAnBK,EAAkB,EAAlBA,aAChB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAYA,OACE,kBAAMC,SAPa,SAAAC,GACnBA,EAAMC,iBAENN,EAAaE,EACd,EAGC,WACE,kBACEK,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,UAAWC,EACXC,SAlBe,SAAAC,GACnBX,EAASW,EAAEC,cAAcb,MAAMc,cAChC,EAiBKd,MAAOA,KAET,mBAAQK,KAAK,SAAb,sBAKL,EC/BH,EAAuB,qBCyDvB,EApDe,WAEX,OAA4BN,EAAAA,EAAAA,UAAS,IAArC,eAAOgB,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAsCpB,EAAAA,EAAAA,WAAS,WAAO,IAAD,EAC/C,iBAAOqB,OAAOC,aAAaC,QAAQ,sBAAnC,QAAqD,EACtD,IAFL,eAAOC,EAAP,KAAoBC,EAApB,KAIAN,EAAaO,IAAI,YAEjBC,EAAAA,EAAAA,YAAU,WAAI,wCAQV,6GAEuBjC,EAAqB8B,GAF5C,OAEU1B,EAFV,OAGI8B,QAAQC,IAAI/B,EAAKgC,SACjBb,GAAU,OAAInB,EAAKgC,UACnBR,aAAaS,QAAQ,cAAeP,GALxC,gDAQII,QAAQC,IAAR,MARJ,0DARU,sBAEQ,KAAhBL,IAIJJ,EAAgB,CAAEzB,MAAO6B,IANb,mCAoBVQ,GACH,GAAE,CAACR,EAAaJ,IAMjB,OAAO,4BACP,SAAC,EAAD,CAAWrB,aALY,SAAAE,GACrBwB,EAAexB,EAChB,KAIH,wBACGe,GAAUA,EAAOiB,KAAI,SAAAC,GACpB,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAME,IAAM1B,UAAWC,EAApC,SAA+CuB,EAAMG,OAASH,EAAMI,QAD7DJ,EAAME,GAIlB,QAIJ,C","sources":["components/api/SearchQueryMovies.js","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","webpack://react-homework-template/./src/components/pages/Movies/Movies.module.css?078c","components/pages/Movies/Movies.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = 'https://api.themoviedb.org/';\n\nconst API_KEY = '593700439a076bb032ad3ac2a00bd9c1';\n\nasync function getSearchQueryMovies (query) {\n    const response = await axios.get(`${BASE_URL}3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`)\n    return response.data; \n}\n\nexport default getSearchQueryMovies;\n","// extracted by mini-css-extract-plugin\nexport default {\"search\":\"Searchbar_search__RgdH8\"};","import { useState } from \"react\";\nimport css from './Searchbar.module.css'\n\nconst Searchbar = ({handleSearch}) => {\n    const [value, setValue] = useState('');\n  \n    const handleChange = e => {\n      setValue(e.currentTarget.value.toLowerCase());\n    };\n  \n    const handleSubmit = event => {\n      event.preventDefault();\n\n      handleSearch(value);\n    };\n  \n    return (\n      <form onSubmit={handleSubmit}>  \n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          className={css.search}\n          onChange={handleChange}\n          value={value}\n        />\n        <button type=\"submit\">\n        Search\n        </button>\n      </form>\n    );\n  }\n\n  export default Searchbar;","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"Movies_link__Ti9Y4\"};","import { useEffect, useState } from \"react\";\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport getSearchQueryMovies from \"components/api/SearchQueryMovies\";\nimport Searchbar from \"components/Searchbar/Searchbar\";\nimport css from './Movies.module.css'\n\nconst Movies = () => {\n\n    const [movies, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [moviesQuery, setMoviesQuery] = useState(() => {\n          return window.localStorage.getItem('moviesQuery') ?? '';\n        });\n\n    searchParams.get('movieId');\n\n    useEffect(()=>{\n\n      if (moviesQuery === '') {\n        return;\n      }\n\n      setSearchParams({ query: moviesQuery });\n\n        async function GetQuery(){\n           try{\n            const data = await getSearchQueryMovies(moviesQuery);\n            console.log(data.results)\n            setMovies([...data.results]);\n            localStorage.setItem('moviesQuery', moviesQuery);\n           }\n           catch(error){\n            console.log(error)\n           }\n        }\n\n        GetQuery();\n    }, [moviesQuery, setSearchParams])\n\n    const onSearchSubmit = value => {\n      setMoviesQuery(value);\n    }\n\n    return <div>\n    <Searchbar handleSearch={onSearchSubmit}/>\n  <ul>\n    {movies && movies.map(movie => {\n      return (\n        <li key={movie.id}>\n          <Link to={`${movie.id}`} className={css.link}>{movie.title || movie.name}</Link>\n        </li>\n      )\n    })}\n  </ul>\n    </div>\n\n}\n\nexport default Movies;"],"names":["BASE_URL","API_KEY","getSearchQueryMovies","query","axios","response","data","handleSearch","useState","value","setValue","onSubmit","event","preventDefault","type","autoComplete","autoFocus","placeholder","className","css","onChange","e","currentTarget","toLowerCase","movies","setMovies","useSearchParams","searchParams","setSearchParams","window","localStorage","getItem","moviesQuery","setMoviesQuery","get","useEffect","console","log","results","setItem","GetQuery","map","movie","to","id","title","name"],"sourceRoot":""}